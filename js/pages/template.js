!function(){function e(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function n(n,r){function t(n){return $+=n.split(/\n/).length-1,s&&(n=n.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),n&&(n=j[1]+e(n)+j[2]+"\n"),n}function a(e){var n=$;if(l?e=l(e,r):i&&(e=e.replace(/\n/g,function(){return"$line="+ ++$+";"})),0===e.indexOf("=")){var t=p&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),t){var a=e.replace(/\s*\([^\)]+\)/,"");u[a]||/^(include|print)$/.test(a)||(e="$escape("+e+")")}else e="$string("+e+")";e=j[1]+e+j[2]}return i&&(e="$line="+n+";"+e),d(e.replace(g,"").replace(h,",").replace(v,"").replace(m,"").replace(y,"").split(b),function(e){if(e&&!w[e]){var n;n="print"===e?k:"include"===e?E:u[e]?"$utils."+e:f[e]?"$helpers."+e:"$data."+e,S+=e+"="+n+",",w[e]=!0}}),e+"\n"}var i=r.debug,o=r.openTag,c=r.closeTag,l=r.parser,s=r.compress,p=r.escape,$=1,w={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},x="".trim,j=x?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],T=x?"$out+=text;return $out;":"$out.push(text);",k="function(){var text=''.concat.apply('',arguments);"+T+"}",E="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+T+"}",S="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(i?"$line=0,":""),W=j[0],A="return new String("+j[3]+");";d(n.split(o),function(e){var n=(e=e.split(c))[0],r=e[1];1===e.length?W+=t(n):(W+=a(n),r&&(W+=t(r)))});var R=S+W+A;i&&(R="try{"+R+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+e(n)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var F=new Function("$data","$filename",R);return F.prototype=u,F}catch(e){throw e.temp="function anonymous($data,$filename) {"+R+"}",e}}var r=function(e,n){return"string"==typeof n?$(n,{filename:e}):i(e,n)};r.version="3.0.0",r.config=function(e,n){t[e]=n};var t=r.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},a=r.cache={};r.render=function(e,n){return $(e,n)};var i=r.renderFile=function(e,n){var t=r.get(e)||p({filename:e,name:"Render Error",message:"Template not found"});return n?t(n):t};r.get=function(e){var n;if(a[e])n=a[e];else if("object"==typeof document){var r=document.getElementById(e);if(r){var t=(r.value||r.innerHTML).replace(/^\s*|\s*$/g,"");n=$(t,{filename:e})}}return n};var o=function(e,n){return"string"!=typeof e&&(n=typeof e,"number"===n?e+="":e="function"===n?o(e.call(e)):""),e},c={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},l=function(e){return c[e]},s=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},u=r.utils={$helpers:{},$include:i,$string:o,$escape:function(e){return o(e).replace(/&(?![\w#]+;)|[<>"']/g,l)},$each:function(e,n){var r,t;if(s(e))for(r=0,t=e.length;t>r;r++)n.call(e,e[r],r,e);else for(r in e)n.call(e,e[r],r)}};r.helper=function(e,n){f[e]=n};var f=r.helpers=u.$helpers;r.onerror=function(e){var n="Template Error\n\n";for(var r in e)n+="<"+r+">\n"+e[r]+"\n\n";"object"==typeof console&&console.error(n)};var p=function(e){return r.onerror(e),function(){return"{Template Error}"}},$=r.compile=function(e,r){function i(n){try{return new l(n,c)+""}catch(t){return r.debug?p(t)():(r.debug=!0,$(e,r)(n))}}r=r||{};for(var o in t)void 0===r[o]&&(r[o]=t[o]);var c=r.filename;try{var l=n(e,r)}catch(e){return e.filename=c||"anonymous",e.name="Syntax Error",p(e)}return i.prototype=l.prototype,i.toString=function(){return l.toString()},c&&r.cache&&(a[c]=i),i},d=u.$each,g=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,h=/[^\w$]+/g,v=new RegExp(["\\b"+"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined".replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),m=/^\d[^,]*|,\d[^,]*/g,y=/^,+|,+$/g,b=/^$|,+/;t.openTag="{{",t.closeTag="}}";var w=function(e,n){var r=n.split(":"),t=r.shift(),a=r.join(":")||"";return a&&(a=", "+a),"$helpers."+t+"("+e+a+")"};t.parser=function(e){var n=(e=e.replace(/^\s/,"")).split(" "),t=n.shift(),a=n.join(" ");switch(t){case"if":e="if("+a+"){";break;case"else":e="}else"+(n="if"===n.shift()?" if("+n.join(" ")+")":"")+"{";break;case"/if":e="}";break;case"each":var i=n[0]||"$data",o=n[1]||"as",c=n[2]||"$value",l=n[3]||"$index";"as"!==o&&(i="[]"),e="$each("+i+",function("+(c+","+l)+"){";break;case"/each":e="});";break;case"echo":e="print("+a+");";break;case"print":case"include":e=t+"("+n.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(a)){var s=!0;0===e.indexOf("#")&&(e=e.substr(1),s=!1);for(var u=0,f=e.split("|"),p=f.length,$=f[u++];p>u;u++)$=w($,f[u]);e=(s?"=":"=#")+$}else e=r.helpers[t]?"=#"+t+"("+n.join(",")+");":"="+e}return e},"function"==typeof define?define(function(){return r}):"undefined"!=typeof exports?module.exports=r:this.template=r}();